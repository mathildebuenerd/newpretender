<html>

<head>

  <meta charset="utf-8"/>

  <meta name="viewport" content="width=360, initial-scale=1.0, user-scalable=no">
<script language="javascript" type="text/javascript" src="libraries/p5.js"></script>

<!-- <script
        src="https://code.jquery.com/jquery-3.1.1.min.js"
        integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
        crossorigin="anonymous"></script> -->

  <link href="https://fonts.googleapis.com/css?family=Lato:300" rel="stylesheet">

  <style>

html {
  background-color: black;
}

body {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

#texte {
  font-family: "Lato", sans-serif;
  font-size: 20px;
  color: white;
  display: inline-block;
  width: 50%;
  margin-left: 20%;
  margin-top: 30%;

  /* Texte non selectionnable */
  -webkit-user-select: none;  /* Chrome all / Safari all */
  -moz-user-select: none;     /* Firefox all */
  -ms-user-select: none;      /* IE 10+ */
  user-select: none;          /* Likely future */

}

  </style>

  <script src="http://code.responsivevoice.org/responsivevoice.js"></script>

</head>

<body>


<p id="texte"></p>


<p id="debut">Bonjour, je suis ton coach. Grâce à moi tu vas pouvoir trouver une nouvelle petite amie en moins de cinq minutes. Tout ce que tu as à faire c'est répéter après moi.
Si tu es prêt, appuie trois fois sur l'un des boutons.
</p>

<p id="fin">Bravo, tu viens de pécho une super meuf. Maintenant n'hésite pas à lui proposer de la ramener chez toi.</p>


<script language="javascript" type="text/javascript" src="sketch.js"></script>


<script>

var isStartFinished = false;
var isFinished = false;

document.body.addEventListener("click", afficher);




function afficher() {

  var texte = document.getElementById("texte").innerHTML;
  var debut = document.getElementById('debut').innerHTML;
  var fin = document.getElementById('fin').innerHTML;
  
  console.log("afficher " + touched);

  // RESPONSIVEVOICE API
  // responsiveVoice.cancel();
  var voix = "French Female";

  if (touched == 5) {
    console.log("debut");
    responsiveVoice.speak(debut, voix);
    touched = 10;
    // on considère que le début est fini quand la voix a fini de dire la phrase du debut
    isStartFinished = true;

  } else if (isStartFinished && isFinished == false) {
    console.log("texte");
    console.log("choisi");
    console.log("isFinished " + isFinished);
    document.body.addEventListener("touchstart", choisi);
    responsiveVoice.speak(texte, voix);

  } else if (isFinished) {
    console.log("fin");
    responsiveVoice.speak(fin, voix);
  }
 

  // GOOGLE API
    // var msg = new SpeechSynthesisUtterance(texte);
    // // msg.voice = voices[4];
    // window.speechSynthesis.speak(msg);
if (touched < 5) {
  touched++;
}
    
}



</script>

</body>


</html>
